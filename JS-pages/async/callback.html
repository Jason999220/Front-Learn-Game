<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="../../style.css" />
  </head>
  <body>
    <nav>
      <a class="back" href="../async.html">BACK</a>
      <div class="js-title"></div>
    </nav>
    <div class="container" style="height: auto">
      <div class="js-learn" style="width: 100%">
        <!-- callback -->
        <h4>Callback</h4>
        <div class="js-box-2">
          <div class="js-block">
            <div class="js-title-block">
              <div class="js-code-title">JS</div>
              <textarea class="js-code">
function callFirst(text,callback){
  window.setTimeout ( ()=>{
    console.log('First')
    console.log(text)
    callback()
  }, 1000);
}
function callThird(){
  console.log('Third')
}

callFirst('Second',callThird)
              </textarea>
            </div>
          </div>
          <div class="resize"></div>
          <div class="js-result">
            <div class="js-show">
              <div class="js-title-result-block">
                <div class="js-code-result-title">content</div>
                <div class="js-code-result-run">run</div>
                <div class="css-content">
                  callback是指在一個函式內呼叫其他函式，像此時我們將【callThird】當成參數傳遞給【callFirst】，在【callFirst】內呼叫了【callThird】使結果按照順序呈現
                  <br />這就是最原始解決Asynchronize問題的方法，利用傳入function來取得資料
                </div>
              </div>
            </div>
            <div class="js-console">
              <div class="js-title-result-block">
                <p class="js-code-result-title">console</p>
                <iframe class="console-iframe"></iframe>
              </div>
            </div>
          </div>
        </div>
        <!-- callback Hell -->
        <h4>Callback Hell</h4>
        <div class="js-box-2">
          <div class="js-block">
            <div class="js-title-block">
              <div class="js-code-title">JS</div>
              <textarea class="js-code">
function callFirst(callback){
  window.setTimeout ( ()=>{
    console.log('First')
    callback(
      callThird()
    )
  }, 1000);
}
function callSecond(){
  console.log('Second')
}
function callThird(){
  console.log('Third')
}

callFirst(callSecond)
              </textarea>
            </div>
          </div>
          <div class="resize"></div>
          <div class="js-result">
            <div class="js-show">
              <div class="js-title-result-block">
                <div class="js-code-result-title">content</div>
                <div class="js-code-result-run">run</div>
                <div class="css-content">
                  假如連 Second 也用函式的方式呈現呢？就會變成這個奇怪的樣子<br />
                  而現在的程式這麼短已經很奇怪了，如果程式有很多不就非常恐怖，所以callback用太多會產生
                  Callback Hell 就會變成下方圖片的樣子<br />為了解決這個大問題就衍伸了
                  Promise ，那 Promise
                  到底是甚麼呢？他又給我們帶來甚麼好處？我們下個章節再來討論吧
                </div>
              </div>
            </div>
            <div class="js-console">
              <div class="js-title-result-block">
                <p class="js-code-result-title">console</p>
                <iframe class="console-iframe"></iframe>
              </div>
            </div>
          </div>
        </div>
        <div
          style="display: flex; justify-content: center; align-items: center"
        >
          <img src="../../imgs/callback.png" alt="" />
        </div>
      </div>
    </div>
    <script src="../../components/common.js"></script>
  </body>
</html>
